{% extends 'users/base.html' %}

{% block title %}Detalhes da Instrução{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <!-- Coluna de tamanho ajustado para maior responsividade -->
        <div class="col-lg-8 col-md-10 col-sm-12">
            <!-- Card de detalhes da instrução com design militar -->
            <div class="card border-0 shadow-lg" style="border-radius: 15px; border: 2px solid #4B8C2A; background-color: #F8F9FA;">
                <div class="card-header text-white text-center" style="background-color: #4B8C2A; border-radius: 15px 15px 0 0;">
                    <h2 class="mb-0">{{ instruction.title }}</h2>
                </div>
                <div class="card-body p-4" style="background-color: #F8F9FA;">
                    <!-- Seção de detalhes com espaçamento e alinhamento -->
                    <div class="mb-3">
                        <strong>Seção:</strong> {{ instruction.section }}
                    </div>
                    <div class="mb-3">
                        <strong>Categoria:</strong> {{ instruction.category }}
                    </div>
                    <div class="mb-3">
                        <strong>Subcategoria:</strong> {{ instruction.subcategory }}
                    </div>
                    <div class="mb-3">
                        <strong>Autor:</strong> {{ instruction.author }}
                    </div>
                    <div class="mb-3">
                        <strong>Data de criação:</strong> {{ instruction.created_at|date:"d/m/Y H:i" }}
                    </div>

                    <!-- Conteúdo da instrução com margens ajustadas -->
                    <div class="content mt-4">
                        <h4 class="text-dark"></h4>
                        <div class="p-3 bg-white rounded" style="border-left: 4px solid #4B8C2A;">
                            {{ instruction.content|safe }}
                        </div>
                    </div>
                </div>

                <!-- Rodapé com botões bem distribuídos -->
                <div class="card-footer d-flex justify-content-between align-items-center" style="background-color: #F8F9FA; border-radius: 0 0 15px 15px;">
                    <!-- Botões de edição e exclusão -->
                    {% if user.is_superuser or user == instruction.author %}
                    <div>
                        <a href="{% url 'update_instruction' instruction.pk %}" class="btn btn-sm" style="background-color: #28A745; color: white; border: none; margin-right: 5px;">Editar</a>
                        <form action="{% url 'delete_instruction' instruction.pk %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-sm" style="background-color: #FF851B; color: white; border: none;">Deletar</button>
                        </form>
                    </div>
                    {% endif %}
                    
                    <!-- Botão para voltar à lista -->
                    <a href="{% url 'list_instructions' %}" class="btn btn-sm" style="background-color: #006400; color: white; border: none;">Voltar à Lista</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
